import type {
  Parcel,
  SiteScore,
  ZoningSummary,
  Comp,
  FirmHistoryMatch
} from "./types";

export const MOCK_PARCELS: Parcel[] = [
  // ── Gwinnett County (Norcross / Buford Hwy area) ──────────────────
  {
    apn: "R7001-001",
    county: "Gwinnett",
    owner_name: "Meridian Holdings LLC",
    owner_mailing_address: "PO Box 8812, Atlanta, GA 30306",
    site_address: "4821 Buford Hwy NE, Chamblee, GA 30341",
    acres: 2.14,
    land_use_code: "General Commercial",
    zoning: "C-2",
    assessed_total: 845000,
    last_sale_date: "2021-08-15",
    last_sale_price: 1240000,
  },
  {
    apn: "R7001-002",
    county: "Gwinnett",
    owner_name: "Forum at Peachtree Corners LLC",
    owner_mailing_address: "3665 Peachtree Corners Cir, Norcross, GA 30092",
    site_address: "5170 Town Center Blvd, Peachtree Corners, GA 30092",
    acres: 4.80,
    land_use_code: "Mixed Use",
    zoning: "MU-1",
    assessed_total: 2150000,
    last_sale_date: "2019-03-22",
    last_sale_price: 3800000,
  },
  {
    apn: "R7001-003",
    county: "Gwinnett",
    owner_name: "Thomas & Linda Hargrove",
    owner_mailing_address: "2204 Lilburn Stone Mountain Rd, Lilburn, GA 30047",
    site_address: "2204 Lilburn Stone Mountain Rd, Lilburn, GA 30047",
    acres: 0.52,
    land_use_code: "Single Family Residential",
    zoning: "R-2",
    assessed_total: 185000,
    last_sale_date: "2016-06-10",
    last_sale_price: 215000,
  },
  {
    apn: "R7001-004",
    county: "Gwinnett",
    owner_name: "DeThomas Development Group LLC",
    owner_mailing_address: "1400 Peachtree Industrial Blvd Ste 200, Norcross, GA 30071",
    site_address: "6100 Buford Hwy, Norcross, GA 30071",
    acres: 1.45,
    land_use_code: "General Commercial",
    zoning: "C-2",
    assessed_total: 520000,
    last_sale_date: "2020-11-04",
    last_sale_price: 890000,
  },
  {
    apn: "R7001-005",
    county: "Gwinnett",
    owner_name: "Peachtree Corners Holdings LLC",
    owner_mailing_address: "5300 Peachtree Industrial Blvd, Norcross, GA 30071",
    site_address: "5300 Peachtree Industrial Blvd, Norcross, GA 30071",
    acres: 12.60,
    land_use_code: "Planned Development",
    zoning: "PD",
    assessed_total: 4800000,
    last_sale_date: "2017-09-28",
    last_sale_price: 8200000,
  },
  {
    apn: "R7001-006",
    county: "Gwinnett",
    owner_name: "Patricia M. Nguyen",
    owner_mailing_address: "1850 Beaver Ruin Rd, Norcross, GA 30071",
    site_address: "1850 Beaver Ruin Rd, Norcross, GA 30071",
    acres: 0.28,
    land_use_code: "Single Family Residential",
    zoning: "R-1",
    assessed_total: 142000,
    last_sale_date: "2014-04-12",
    last_sale_price: 168000,
  },
  {
    apn: "R7001-007",
    county: "Gwinnett",
    owner_name: "Norcross Gateway Partners LLC",
    owner_mailing_address: "450 S Perry St Ste 300, Lawrenceville, GA 30046",
    site_address: "3200 Peachtree Industrial Blvd, Norcross, GA 30071",
    acres: 3.10,
    land_use_code: "Heavy Commercial",
    zoning: "C-3",
    assessed_total: 1280000,
    last_sale_date: "2022-06-18",
    last_sale_price: 2100000,
  },
  {
    apn: "R7001-008",
    county: "Gwinnett",
    owner_name: "Pinnacle Logistics Center LLC",
    owner_mailing_address: "6700 Best Friend Rd, Norcross, GA 30071",
    site_address: "6700 Best Friend Rd, Norcross, GA 30071",
    acres: 8.40,
    land_use_code: "Light Industrial",
    zoning: "I-1",
    assessed_total: 3200000,
    last_sale_date: "2023-01-09",
    last_sale_price: 5400000,
  },
  {
    apn: "R7001-009",
    county: "Gwinnett",
    owner_name: "James & Sarah Whitfield",
    owner_mailing_address: "5720 Medlock Bridge Pkwy, Peachtree Corners, GA 30092",
    site_address: "5720 Medlock Bridge Pkwy, Peachtree Corners, GA 30092",
    acres: 0.45,
    land_use_code: "Single Family Residential",
    zoning: "R-2",
    assessed_total: 320000,
    last_sale_date: "2020-07-15",
    last_sale_price: 425000,
  },
  {
    apn: "R7001-010",
    county: "Gwinnett",
    owner_name: "JCB Retail Ventures LLC",
    owner_mailing_address: "2500 Pleasant Hill Rd Ste 110, Duluth, GA 30096",
    site_address: "5510 Jimmy Carter Blvd, Norcross, GA 30071",
    acres: 2.30,
    land_use_code: "General Commercial",
    zoning: "C-2",
    assessed_total: 780000,
    last_sale_date: "2021-02-20",
    last_sale_price: 1380000,
  },
  {
    apn: "R7001-011",
    county: "Gwinnett",
    owner_name: "Peachtree Corners Holdings LLC",
    owner_mailing_address: "5300 Peachtree Industrial Blvd, Norcross, GA 30071",
    site_address: "5150 Peachtree Pkwy, Peachtree Corners, GA 30092",
    acres: 6.20,
    land_use_code: "Mixed Use",
    zoning: "MU-2",
    assessed_total: 2900000,
    last_sale_date: "2018-12-03",
    last_sale_price: 4500000,
  },
  {
    apn: "R7001-012",
    county: "Gwinnett",
    owner_name: "SR Holdings Group LLC",
    owner_mailing_address: "1000 Steve Reynolds Blvd, Norcross, GA 30093",
    site_address: "1844 Old Norcross Rd, Lawrenceville, GA 30044",
    acres: 1.05,
    land_use_code: "Neighborhood Commercial",
    zoning: "C-1",
    assessed_total: 310000,
    last_sale_date: "2019-10-22",
    last_sale_price: 410000,
  },
  {
    apn: "R7001-013",
    county: "Gwinnett",
    owner_name: "Berkshire Industrial Realty Inc",
    owner_mailing_address: "7000 Oakbrook Pkwy, Norcross, GA 30093",
    site_address: "7000 Oakbrook Pkwy, Norcross, GA 30093",
    acres: 15.80,
    land_use_code: "Heavy Industrial",
    zoning: "I-2",
    assessed_total: 5600000,
    last_sale_date: "2022-04-30",
    last_sale_price: 9800000,
  },
  {
    apn: "R7001-014",
    county: "Gwinnett",
    owner_name: "DeThomas Development Group LLC",
    owner_mailing_address: "1400 Peachtree Industrial Blvd Ste 200, Norcross, GA 30071",
    site_address: "730 Buford Hwy, Norcross, GA 30071",
    acres: 3.60,
    land_use_code: "General Commercial",
    zoning: "C-2",
    assessed_total: 1100000,
    last_sale_date: "2023-04-14",
    last_sale_price: 1820000,
  },

  // ── Fulton County ─────────────────────────────────────────────────
  {
    apn: "F4200-001",
    county: "Fulton",
    owner_name: "Metropolitan Real Estate Group LLC",
    owner_mailing_address: "3344 Peachtree Rd NE Ste 1800, Atlanta, GA 30326",
    site_address: "1100 Peachtree St NE, Atlanta, GA 30309",
    acres: 2.10,
    land_use_code: "Mixed Use",
    zoning: "MU-1",
    assessed_total: 4200000,
    last_sale_date: "2020-06-12",
    last_sale_price: 7600000,
  },
  {
    apn: "F4200-002",
    county: "Fulton",
    owner_name: "Gerald & Diane Patterson",
    owner_mailing_address: "842 Greenwood Ave NE, Atlanta, GA 30306",
    site_address: "842 Greenwood Ave NE, Atlanta, GA 30306",
    acres: 0.22,
    land_use_code: "Single Family Residential",
    zoning: "R-3",
    assessed_total: 480000,
    last_sale_date: "2018-09-28",
    last_sale_price: 620000,
  },
  {
    apn: "F4200-003",
    county: "Fulton",
    owner_name: "Westside Industrial Partners LLC",
    owner_mailing_address: "1250 Northside Dr NW Ste 400, Atlanta, GA 30318",
    site_address: "1250 Northside Dr NW, Atlanta, GA 30318",
    acres: 5.20,
    land_use_code: "Light Industrial",
    zoning: "I-1",
    assessed_total: 2800000,
    last_sale_date: "2021-03-05",
    last_sale_price: 4900000,
  },
  {
    apn: "F4200-004",
    county: "Fulton",
    owner_name: "Buckhead Tower Associates LLC",
    owner_mailing_address: "3500 Lenox Rd NE Ste 1500, Atlanta, GA 30326",
    site_address: "3500 Lenox Rd NE, Atlanta, GA 30326",
    acres: 2.40,
    land_use_code: "Heavy Commercial",
    zoning: "C-3",
    assessed_total: 8500000,
    last_sale_date: "2019-11-22",
    last_sale_price: 15200000,
  },
  {
    apn: "F4200-005",
    county: "Fulton",
    owner_name: "Metropolitan Real Estate Group LLC",
    owner_mailing_address: "3344 Peachtree Rd NE Ste 1800, Atlanta, GA 30326",
    site_address: "2300 Holcomb Bridge Rd, Roswell, GA 30076",
    acres: 4.00,
    land_use_code: "Planned Development",
    zoning: "PD",
    assessed_total: 3100000,
    last_sale_date: "2022-08-10",
    last_sale_price: 5500000,
  },
  {
    apn: "F4200-006",
    county: "Fulton",
    owner_name: "Norcross Gateway Partners LLC",
    owner_mailing_address: "450 S Perry St Ste 300, Lawrenceville, GA 30046",
    site_address: "2100 Powers Ferry Rd SE, Atlanta, GA 30339",
    acres: 2.30,
    land_use_code: "General Commercial",
    zoning: "C-2",
    assessed_total: 1650000,
    last_sale_date: "2023-02-14",
    last_sale_price: 2800000,
  },
];

export const MOCK_SITE_SCORE: SiteScore = {
  composite: 76,
  tier: "Strong Candidate",
  zoning: 18,
  access: 15,
  demographics: 14,
  market: 13,
  infrastructure: 16,
};

export const MOCK_ZONING_SUMMARY: ZoningSummary = {
  code: "C-2",
  name: "General Commercial District · Gwinnett County",
  flags: [
    { label: "Retail Permitted", type: "permitted" },
    { label: "Restaurant Permitted", type: "permitted" },
    { label: "Drive-Through Permitted", type: "permitted" },
    { label: "Car Wash Conditional", type: "conditional" },
    { label: "Residential Prohibited", type: "prohibited" },
  ],
  standards: [
    { label: "Front setback", value: "30 ft from right-of-way" },
    { label: "Side setback", value: "10 ft (20 ft adj. residential)" },
    { label: "Max height", value: "50 ft / 4 stories" },
    { label: "Min lot", value: "1.0 acre" },
    { label: "Max lot coverage", value: "75%" },
  ],
};

export const MOCK_COMPS: Comp[] = [
  {
    id: "c1",
    address: "3200 Peachtree Ind",
    distance: 0.4,
    acres: 2.3,
    date: "Jun '23",
    price: 1380000,
    psf: 13.8,
    coordinates: [-84.12, 33.96],
  },
  {
    id: "c2",
    address: "5510 Jimmy Carter",
    distance: 0.7,
    acres: 1.9,
    date: "Feb '23",
    price: 1100000,
    psf: 13.3,
    coordinates: [-84.13, 33.94],
  },
  {
    id: "c3",
    address: "1844 Old Norcross",
    distance: 0.9,
    acres: 0.9,
    date: "Oct '22",
    price: 410000,
    psf: 10.4,
    coordinates: [-84.10, 33.95],
  },
  {
    id: "c4",
    address: "730 Buford Hwy",
    distance: 1.0,
    acres: 2.8,
    date: "Apr '22",
    price: 1820000,
    psf: 14.9,
    coordinates: [-84.11, 33.97],
  },
];

export const MOCK_FIRM_HISTORY: FirmHistoryMatch[] = [
  {
    id: "fh1",
    deal_name: "Buford Hwy @ I-985 (2021)",
    year: 2021,
    outcome: "closed",
    similarity: 87,
    excerpt: "\"Similar 2.1ac C-2 corridor site. Traffic count 44K ADT was key driver. Achieved $14.20/SF. Strong QSR comp set.\"",
  },
  {
    id: "fh2",
    deal_name: "Jimmy Carter Blvd Pad (2019)",
    year: 2019,
    outcome: "passed",
    similarity: 72,
    excerpt: "\"Passed due to traffic count 26K ADT below 30K threshold. This site shows 41K ADT — that concern is resolved.\"",
  },
];

export function getParcelByAPN(apn: string): Parcel | undefined {
  return MOCK_PARCELS.find((p) => p.apn === apn);
}

export function searchParcels(query: string): Parcel[] {
  const q = query.toLowerCase();
  return MOCK_PARCELS.filter(
    (p) =>
      p.apn.toLowerCase().includes(q) ||
      p.site_address?.toLowerCase().includes(q) ||
      p.owner_name?.toLowerCase().includes(q)
  );
}

export function getParcelsByOwner(ownerName: string): Parcel[] {
  const q = ownerName.toLowerCase();
  return MOCK_PARCELS.filter((p) => p.owner_name?.toLowerCase().includes(q));
}
